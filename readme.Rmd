## Scripts for: Over half of the negative crop yield variability explained by anthropogenic indicators
###  Authors:	Pekka Kinnunen, Matias Heino, Vilma Sandstr√∂m, Maija Taka, Deepak K. Ray, Matti Kummu

(Paper submitted)

### Code author: Pekka Kinnunen


### The analysis consists of seven main scripts and three files for helper functions:

1. **0-config_file.R**
  * Contains data names, paths, threshold values and other data needed to run the subsequent scripts. Script also calls the subsequent
  scripts (numbered 1, 2, 3_1, 3_2, 4_1, 4_2)

2. **1-load_data.R**
  * Script loads indicator and crop yield data

3. **2-explore.R**
  * Script calculates distributions and pairwise correlations between each indicator

4. **3.1-analysis_relative_anom.R**
  * Script performs XGBoost regression and visualizations for the "yield loss risk" -case  

5. **3.2-shock_analysis.R**
  * Script performs XGBoost regression and visualizations for temperature and soil moisture shocks in the "shock factor" -cases.  

6. **4_1-map_visualize.R**
  * Script performs map visualizations for both "yield loss risk" and "shock factor" cases.
  
7. **4_2-plot_visualize.R**
  * Script performs joint plot visualizations for both "yield loss risk" and "shock factor" cases.

8. **utils_data_load.R and utils_analysis.R**
  * Scripts contain helper functions used in loading the data and doing the model fitting
  
9. **crop_yield_data.py**
  * Python script containing functions for loading the crop yield data and temperature and soil moisture shocks. 

<br/>
<br/>
 The data needed for running the scripts must be downloaded separately. 
